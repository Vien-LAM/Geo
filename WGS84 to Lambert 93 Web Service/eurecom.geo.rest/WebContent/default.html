<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="./style/stylesheet.css">
<script type="text/javascript" src="./js/converter.js"></script>
<title>Eurecom Geoconverter API</title>
<script type="text/javascript">
	function system1Change() {
		if (document.getElementById("system1").value == "WGS84") {
			document.getElementById("s1Lambert93").style.display = "none";
		} else if (document.getElementById("system1").value == "RGF93") {
			document.getElementById("s1Lambert93").style.display = "inherit";
		}
	}
	
	function system2Change() {
		if (document.getElementById("system2").value == "WGS84") {
			document.getElementById("s2Lambert93").style.display = "none";
		} else if (document.getElementById("system2").value == "RGF93") {
			document.getElementById("s2Lambert93").style.display = "inherit";
		}
	}

	function project1Change() {
		if (document.getElementById("project1").value == "UTM") {
			document.getElementById("s1coord1").innerHTML = "X (Meters):";
			document.getElementById("s1coord1").setAttribute("value", "x");
			document.getElementById("s1coord2").innerHTML = "Y (Meters):";
			document.getElementById("s1coord2").setAttribute("value", "y");
			document.getElementById("s1UTM").style.visibility = "visible";
		} else if (document.getElementById("project1").value == "Lambert93") {
			document.getElementById("s1coord1").innerHTML = "X (Meters):";
			document.getElementById("s1coord1").setAttribute("value", "x");
			document.getElementById("s1coord2").innerHTML = "Y (Meters):";
			document.getElementById("s1coord2").setAttribute("value", "y");
			document.getElementById("s1UTM").style.visibility = "hidden";
		} else {
			document.getElementById("s1coord1").innerHTML = "Longitude (Decimal Degrees):";
			document.getElementById("s1coord1").setAttribute("value", "lon");
			document.getElementById("s1coord2").innerHTML = "Latitude (Decimal Degrees):";
			document.getElementById("s1coord2").setAttribute("value", "lat");
			document.getElementById("s1UTM").style.visibility = "hidden";
		}
	}
	
	function project2Change() {
		if (document.getElementById("project2").value == "UTM") {
			document.getElementById("s2coord1").innerHTML = "X (Meters):";
			document.getElementById("s2coord1").setAttribute("value", "x");
			document.getElementById("s2coord2").innerHTML = "Y (Meters):";
			document.getElementById("s2coord2").setAttribute("value", "y");
			document.getElementById("s2UTM").style.visibility = "visible";
		} else if (document.getElementById("project2").value == "Lambert93") {
			document.getElementById("s2coord1").innerHTML = "X (Meters):";
			document.getElementById("s2coord1").setAttribute("value", "x");
			document.getElementById("s2coord2").innerHTML = "Y (Meters):";
			document.getElementById("s2coord2").setAttribute("value", "y");
			document.getElementById("s2UTM").style.visibility = "hidden";
		} else {
			document.getElementById("s2coord1").innerHTML = "Longitude (Decimal Degrees):";
			document.getElementById("s2coord1").setAttribute("value", "lon");
			document.getElementById("s2coord2").innerHTML = "Latitude (Decimal Degrees):";
			document.getElementById("s2coord2").setAttribute("value", "lat");
			document.getElementById("s2UTM").style.visibility = "hidden";
		}
	}
	
	function s1convert() {
		convert(1);
	}
	
	function s2convert() {
		convert(2);
	}
		
</script>
</head>
<body>
<div id="map_container">
<div id="map">
	<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
	<script>
	var pos;
	var marker;
	var map;
	function show(position) {
		pos = position;
		var mapcanvas = document.getElementById("map");
	   
		var latlng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
		var myOptions = {
				zoom: 15,
	    		center: latlng,
	    		mapTypeControl: false,
	    		navigationControlOptions: {style: google.maps.NavigationControlStyle.SMALL},
	    		mapTypeId: google.maps.MapTypeId.ROADMAP
		};
		map = new google.maps.Map(mapcanvas, myOptions);
	   
		marker = new google.maps.Marker({
			position: latlng,
	      	map: map,
	      	title:"It's here!",
	      	draggable: true
		});
	  
// 		mapcanvas.style.position = "fixed";
// 		mapcanvas.style.top = 0;
// 		mapcanvas.style.left = 0;
	  
		// Add dragging event listeners.
		google.maps.event.addListener(marker, 'dragstart', function() {
			/*updateMarkerAddress('Dragging...');*/
		});
		google.maps.event.addListener(marker, 'drag', function() {
			/*updateMarkerStatus('Dragging...');
			updateMarkerPosition(marker.getPosition());*/
		});
		google.maps.event.addListener(marker, 'dragend', function() {
			/*updateMarkerStatus('Drag ended');
			geocodePosition(marker.getPosition());*/
		});
	}
	 
	function error(msg) {
	  var s = document.querySelector('#error-log');
	  s.innerHTML = typeof msg == 'string' ? msg : "failed";
	   
	  // console.log(arguments);
	}
	</script>
</div></div>
<script type="text/javascript">
	if (navigator.geolocation) {
	  navigator.geolocation.getCurrentPosition(show, error);
	} else {
	  error('not supported');
	}
</script>
<div class="container">
	<section id="left">
		<div id="title_container">
			<div id="title">Geo Converter</div>
			<div id="subtitle">A Geographic Coordinate Converter</div>
		</div>
		<div id="menu_container">
			<div class="menu_item"><a href="./Readme.html">Read me</a></div>
			<div class="menu_item"><a href="./#">Datum info</a></div>
		</div>
		<div id="logo_container"><img id="logo" alt="Eurecom Logo" src="./images/EURECOM_logo_rs.jpg"/></div>
	</section>

	<section id="middle">
		<div class="conversion_source">
			<div class="source">
				<div class="source_title">System 1 (S1)</div>
				<div class="field_container">
					<label class="label">Datum:</label>
					<select id="system1" class="field" onchange="system1Change()">
						<option id="s1WGS84" value="WGS84" selected="selected">WGS84</option>
						<option id="s1RGF93" value="RGF93">RGF93</option>
					</select>
				</div>
				<div class="field_container">
					<label class="label">Projection:</label>
					<select id="project1" class="field" onchange="project1Change()">
						<option id="s1UTMProj" value="UTM">UTM</option>
						<option id="s1Lambert93" style="display: none;" value="Lambert93">Lambert93</option>
						<option value="None" selected="selected">None</option>
					</select>
				</div>
				<div class="field_container">
					<label id="s1coord1" class="label" value="lon">Longitude (Decimal Degrees):</label>
					<input type="text" id="txts1coord1" class="field"/>
				</div>
				<div class="field_container">
					<label id="s1coord2" class="label" value="lat">Latitude (Decimal Degrees):</label>
					<input type="text" id="txts1coord2" class="field"/>
				</div>
				<div id="s1UTM" style="visibility: hidden;" class="field_container">
					<label id="s1UTMzone" class="label">Zone:</label>
					<input type="text" id="txts1UTMzone" class="field_zone"/>
					
					<input type="radio" name="s1UTMhem" id="s1UTMhemN" value="N" checked="checked"/>
          			<label for="s1UTMhemN">North</label>
          			<input type="radio" name="s1UTMhem" id="s1UTMhemS" value="S"/>
          			<label for="s1UTMhemN">South</label>
				</div>
				<div class="fieldend"><button class="button" onclick="s1convert()">Convert S1-S2</button></div>
             </div>
		</div>
		<div class="conversion_source">
			<div class="source">
				<div class="source_title">System 2 (S2)</div>
				<div class="field_container">
					<label class="label">Datum:</label>
					<select id="system2" class="field" onchange="system2Change()">
						<option id="s2WGS84" value="WGS84" selected="selected">WGS84</option>
						<option id="s2RGF93" value="RGF93">RGF93</option>
					</select>
				</div>
				<div class="field_container">
					<label class="label">Projection:</label>
					<select id="project2" class="field"  onchange="project2Change()">
						<option id="s2UTMProj" value="UTM" selected="selected">UTM</option>
						<option id="s2Lambert93" style="visibility: hidden;" value="Lambert93">Lambert93</option>
						<option value="None">None</option>
					</select>
				</div>
				<div class="field_container">
					<label id="s2coord1" class="label" value="x">X (Meters):</label>
					<input type="text" id="txts2coord1" class="field"/>
				</div>
				<div class="field_container">
					<label id="s2coord2" class="label" value="y">Y (Meters):</label>
					<input type="text" id="txts2coord2" class="field"/>
				</div>
				<div id="s2UTM" class="field_container">
					<label id="s2UTMzone" class="label">Zone:</label>
					<input type="text" id="txts2UTMzone" class="field_zone"/>
					
					<input type="radio" name="s2UTMhem" id="s2UTMhemN" value="N" checked="checked"/>
          			<label for="s2UTMhemN">North</label>
          			<input type="radio" name="s2UTMhem" id="s2UTMhemS" value="S"/>
          			<label for="s2UTMhemN">South</label>
				</div>
				<div class="fieldend"><button class="button" onclick="s2convert()">Convert S2-S1</button></div>
             </div>
		</div>
		<div id="error-log" class="error"></div>
		<div id="url"></div>
	</section>
	
</div>
<div class="nofloat"></div>

</body>
</html>